// How to build jlox.
//
// A gradle build file cobbled together by eddieantonio

plugins {
    id 'application'
    id 'idea'
}

application {
    mainClass = 'ca.eddieantonio.lox.Lox'
}

// The Expr class is automatically generated by Ruby code. Make sure that's in
// here:
tasks.named('compileJava') { dependsOn('generateExpr') }
task generateExpr(type: Exec) {
    workingDir projectDir
    commandLine 'ruby', 'tool/generate-ast.rb', 'src/main/java/ca/eddieantonio/lox'
}
